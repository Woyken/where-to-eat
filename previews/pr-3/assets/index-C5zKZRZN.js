import{c as k,b as F,a as I,t as o,i as r,e,C,f as x,j as v,g as b,B as l,h as w,k as y,F as N,L as T}from"./index-CPELap1P.js";import{T as z,a as D,b as L,p as R,t as j}from"./text-field-BjsCg3VK.js";var B=o('<div class="text-xs text-muted-foreground">Tip: share the room from the wheel screen.'),H=o('<div class="grid gap-8"><div class="grid gap-3"><h1 class="text-4xl font-semibold tracking-tight">Where to eat</h1><p class=text-muted-foreground>Create a shared room, rate places, then spin the wheel together.</p></div><div class="grid gap-6 lg:grid-cols-[420px_1fr]">'),P=o('<div class="rounded-xl border bg-card p-6 text-sm text-muted-foreground">No rooms yet. Create one to begin.'),U=o("<span class=sr-only>Delete"),A=o('<div class="flex flex-col gap-3 rounded-xl border bg-card p-4 sm:flex-row sm:items-center sm:justify-between"><div class=min-w-0><div class="truncate text-base font-medium"></div><div class="text-sm text-muted-foreground">Updated </div></div><div class="flex gap-2">');function W(){const[i,c]=k(""),s=F(),_=()=>{console.log("createFreshConnection called");try{const t=i().trim(),a=s.addNewConnection(t||`Connection ${s.store.connections.length+1}`);console.log("Created connection",a),c(""),$.navigate({to:"/wheel/$connectionId",params:{connectionId:a}}),console.log("Navigating to wheel")}catch(t){console.error("Error creating connection",t)}},$=I(),S=t=>{s.removeConnection(t)},d=()=>s.store.connections;return(()=>{var t=H(),a=t.firstChild,g=a.nextSibling;return r(g,e(w,{class:"overflow-hidden",get children(){return[e(C,{class:"border-b",get children(){return[e(x,{children:"Start a new room"}),e(v,{children:"Pick a name now, or rename later in settings."})]}}),e(b,{class:"grid gap-4 pt-6",get children(){return[e(z,{get value(){return i()},onChange:n=>c(n),get children(){return[e(D,{for:"connection-name",children:"Room name"}),e(L,{type:"text",id:"connection-name",placeholder:"Friday lunch crew",autocomplete:"off"})]}}),e(l,{onClick:_,class:"w-full","data-testid":"start-fresh",get children(){return[e(R,{class:"mr-2 size-4"}),"Create & open"]}}),B()]}})]}}),null),r(g,e(w,{get children(){return[e(C,{class:"border-b",get children(){return[e(x,{children:"Your rooms"}),e(v,{children:"Continue where you left off."})]}}),e(b,{class:"grid gap-3 pt-6",get children(){return e(y,{get when(){return d().length>0},get fallback(){return P()},get children(){return e(N,{get each(){return d()},children:n=>(()=>{var m=A(),u=m.firstChild,h=u.firstChild,p=h.nextSibling;p.firstChild;var f=u.nextSibling;return r(h,()=>n.settings.connection.name),r(p,()=>new Date(n.settings.connection.updatedAt).toLocaleDateString(),null),r(f,e(T,{to:"/wheel/$connectionId",get params(){return{connectionId:n.id}},get children(){return e(l,{size:"sm",onclick:()=>{localStorage.setItem("lastUsedConnectionId",n.id)},children:"Open"})}}),null),r(f,e(l,{size:"sm",variant:"outline",onClick:()=>S(n.id),title:"Remove from this browser",get children(){return[e(j,{class:"size-4"}),U()]}}),null),m})()})}})}})]}}),null),t})()}export{W as component};
