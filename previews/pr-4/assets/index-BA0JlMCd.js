import{e,m as _,I as $,c as v,b as Y,a as U,t as l,i as a,f as y,g as D,F as V,L as J,B as h,h as K,s as O}from"./index-XF9XlXpD.js";import{t as Q,T as W,a as X,b as L,p as b}from"./text-field-Qa7EKbq8.js";import{C as R,a as w,b as T,c as C,d as Z,e as A}from"./card-CTapl3vM.js";var ee=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],te=s=>e($,_(s,{iconNode:ee,name:"sparkles"})),ae=te,ne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],se=s=>e($,_(s,{iconNode:ne,name:"arrow-right"})),z=se,re=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],le=s=>e($,_(s,{iconNode:re,name:"calendar"})),ie=le,oe=l("<span class=text-2xl>ğŸ¯"),ce=l('<div class="flex flex-col sm:flex-row gap-3"><div class=flex-1>'),de=l(`<div class="min-h-[calc(100vh-theme(spacing.32))] py-8 px-4"><div class="max-w-4xl mx-auto space-y-8"><div class="text-center space-y-6 page-section"><div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium"><span>Collaborative Decision Making</span></div><h1 class="text-5xl md:text-6xl font-display text-primary leading-tight">Can't Decide<br>Where to Eat?</h1><p class="text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed">Spin the wheel with friends and let fate decide! Add your favorite restaurants, rate them, and watch the wheel pick your next delicious adventure.</p><div class="flex justify-center gap-4 text-4xl py-4"><span class=animate-float style=animation-delay:0s;>ğŸ•</span><span class=animate-float style=animation-delay:0.2s;>ğŸ”</span><span class=animate-float style=animation-delay:0.4s;>ğŸŒ®</span><span class=animate-float style=animation-delay:0.6s;>ğŸœ</span><span class=animate-float style=animation-delay:0.8s;>ğŸ£</span><span class=animate-float style=animation-delay:1s;>ğŸ¥—</span></div></div><div class=space-y-6><div class="grid sm:grid-cols-3 gap-4 pt-4 page-section"><div class="text-center p-6 rounded-2xl bg-card border border-border shadow-card"><div class="text-4xl mb-3">ğŸ²</div><h3 class="font-semibold mb-1">Fair & Random</h3><p class="text-sm text-muted-foreground">Weighted by everyone's preferences</p></div><div class="text-center p-6 rounded-2xl bg-card border border-border shadow-card"><div class="text-4xl mb-3">ğŸ‘¥</div><h3 class="font-semibold mb-1">Real-time Sync</h3><p class="text-sm text-muted-foreground">Collaborate with friends instantly</p></div><div class="text-center p-6 rounded-2xl bg-card border border-border shadow-card"><div class="text-4xl mb-3">ğŸš«</div><h3 class="font-semibold mb-1">Veto Power</h3><p class="text-sm text-muted-foreground">Block places you can't stand`),he=l('<div class="mx-auto w-16 h-16 rounded-2xl gradient-primary flex items-center justify-center mb-4 shadow-food"><span class=text-3xl>ğŸ¡'),pe=l("<span>Spin"),me=l('<div class="food-list-item flex items-center justify-between animate-slide-up"><div class="flex items-center gap-4"><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center text-2xl">ğŸ¡</div><div><h3 class="font-semibold text-lg"></h3><p class="text-sm text-muted-foreground flex items-center gap-1"><span class=mx-1>â€¢</span> places</p></div></div><div class="flex gap-2">');function be(){const[s,ge]=v(""),[p,m]=v(""),[ue,xe]=v(!1),o=Y(),k=()=>{console.log("createFreshConnection called");try{const n=p().trim(),c=o.addNewConnection(n||`Connection ${o.store.connections.length+1}`);console.log("Created connection",c),m(""),B.navigate({to:"/wheel/$connectionId",params:{connectionId:c}}),console.log("Navigating to wheel")}catch(n){console.error("Error creating connection",n)}},B=U(),E=n=>{o.removeConnection(n)},r=()=>o.store.connections;return(()=>{var n=de(),c=n.firstChild,S=c.firstChild,I=S.firstChild,P=I.firstChild,g=S.nextSibling,F=g.firstChild;return a(I,e(ae,{class:"w-4 h-4"}),P),a(g,e(A,{class:"food-card border-2 border-primary/10 overflow-visible page-section",get children(){return[e(R,{class:"text-center pb-2",get children(){return e(y,{get when(){return r().length>0},get fallback(){return[he(),e(w,{class:"text-2xl",children:"Create Your First Wheel!"}),e(T,{class:"text-base",children:"Start a new wheel and invite friends to join the fun"})]},get children(){return[e(w,{class:"text-2xl flex items-center justify-center gap-2",get children(){return[oe(),"Your Wheels"]}}),e(T,{class:"text-base",get children(){return[D(()=>r().length)," ",D(()=>r().length===1?"wheel":"wheels")," ready to spin"]}})]}})}}),e(y,{get when(){return r().length>0},get fallback(){return[e(C,{class:"space-y-4 pt-4",get children(){return e(W,{id:"connection-name-field",get value(){return p()},onChange:t=>m(t),get children(){return[e(X,{for:"connection-name",class:"text-base font-medium",children:"Give your wheel a name"}),e(L,{type:"text",id:"connection-name",placeholder:"e.g., Friday Lunch Gang ğŸ•",class:"h-12 text-base rounded-xl"})]}})}}),e(Z,{class:"pt-2 pb-6",get children(){return e(h,{onClick:k,class:"w-full h-14 text-lg btn-glow","data-testid":"start-fresh",get children(){return[e(b,{class:"w-5 h-5"}),"Create New Wheel",e(z,{class:"w-5 h-5 ml-auto"})]}})}})]},get children(){return e(C,{class:"space-y-3 pt-2",get children(){return e(V,{get each(){return r()},children:(t,u)=>(()=>{var i=me(),N=i.firstChild,q=N.firstChild,G=q.nextSibling,j=G.firstChild,d=j.nextSibling,x=d.firstChild,H=x.nextSibling,M=N.nextSibling;return a(j,()=>t.settings.connection.name),a(d,e(ie,{class:"w-3 h-3"}),x),a(d,()=>new Date(t.settings.connection.updatedAt).toLocaleDateString(),x),a(d,()=>t.settings.eateries.filter(f=>!f._deleted).length,H),a(M,e(J,{to:"/wheel/$connectionId",get params(){return{connectionId:t.id}},get children(){return e(h,{onclick:()=>{localStorage.setItem("lastUsedConnectionId",t.id)},class:"gap-2",get children(){return[pe(),e(z,{class:"w-4 h-4"})]}})}}),null),a(M,e(h,{size:"icon",variant:"ghost",onClick:()=>E(t.id),class:"text-muted-foreground hover:text-destructive hover:bg-destructive/10",get children(){return e(Q,{class:"w-4 h-4"})}}),null),K(f=>O(i,`animation-delay: ${u()*.05}s`,f)),i})()})}})}})]}}),F),a(g,e(y,{get when(){return r().length>0},get children(){return e(A,{class:"food-card border-2 border-dashed border-primary/20 bg-primary/5 page-section",get children(){return[e(R,{class:"pb-2",get children(){return e(w,{class:"text-lg flex items-center gap-2",get children(){return[e(b,{class:"w-5 h-5 text-primary"}),"Create Another Wheel"]}})}}),e(C,{class:"pt-0",get children(){var t=ce(),u=t.firstChild;return a(u,e(W,{get value(){return p()},onChange:i=>m(i),get children(){return e(L,{type:"text",id:"new-connection-name",placeholder:"Wheel name (optional)",class:"h-11 rounded-xl"})}})),a(t,e(h,{onClick:k,"data-testid":"start-fresh",class:"h-11",get children(){return[e(b,{class:"w-4 h-4"}),"Create"]}}),null),t}})]}})}}),F),n})()}export{be as component};
