import{c as u,b as E,a as H,t as x,i as n,e,f as m,m as S,F as O,L as U,B as i}from"./index-CILsPeka.js";import{t as W,T as k,a as G,b as I,p as F}from"./text-field-BKQQEbyH.js";import{C as P,a as D,b as N,c as p,d as V,e as L}from"./card-CLsHIXhO.js";var Y=x('<div class="flex flex-col sm:flex-row gap-3"><div class=flex-1>'),q=x('<div class="min-h-[calc(100vh-theme(spacing.28))] py-12 px-4"><div class="max-w-3xl mx-auto space-y-8"><div class="text-center space-y-4 page-section"><h1 class="text-4xl md:text-5xl font-bold text-foreground leading-tight">Decide Where to Eat</h1><p class="text-lg text-muted-foreground max-w-xl mx-auto">Spin the wheel with your team. Add restaurants, set preferences, and let the wheel pick for you.</p></div><div class=space-y-4><div class="grid sm:grid-cols-3 gap-3 pt-4 page-section"><div class="p-4 rounded-lg bg-muted/50 border border-border"><h3 class="font-medium text-sm mb-1">Weighted Random</h3><p class="text-xs text-muted-foreground">Selection based on group preferences</p></div><div class="p-4 rounded-lg bg-muted/50 border border-border"><h3 class="font-medium text-sm mb-1">Real-time Sync</h3><p class="text-xs text-muted-foreground">Collaborate with your team instantly</p></div><div class="p-4 rounded-lg bg-muted/50 border border-border"><h3 class="font-medium text-sm mb-1">Veto Option</h3><p class="text-xs text-muted-foreground">Block restaurants you want to avoid'),J=x('<div class="food-list-item flex items-center justify-between"><div class="flex items-center gap-3 min-w-0"><div class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0"><span class="text-primary font-semibold text-sm"></span></div><div class=min-w-0><h3 class="font-medium truncate"></h3><p class="text-xs text-muted-foreground flex items-center gap-1"> restaurants<span class=mx-1>Â·</span></p></div></div><div class="flex gap-1 flex-shrink-0">');function ne(){const[K,M]=u(""),[c,d]=u(""),[Q,X]=u(!1),a=E(),f=()=>{console.log("createFreshConnection called");try{const s=c().trim(),l=a.addNewConnection(s||`Connection ${a.store.connections.length+1}`);console.log("Created connection",l),d(""),T.navigate({to:"/wheel/$connectionId",params:{connectionId:l}}),console.log("Navigating to wheel")}catch(s){console.error("Error creating connection",s)}},T=H(),A=s=>{a.removeConnection(s)},r=()=>a.store.connections;return(()=>{var s=q(),l=s.firstChild,B=l.firstChild,g=B.nextSibling,C=g.firstChild;return n(g,e(L,{class:"food-card page-section",get children(){return[e(P,{class:"pb-3",get children(){return e(m,{get when(){return r().length>0},get fallback(){return[e(D,{class:"text-xl",children:"Get Started"}),e(N,{children:"Create a new session to start making decisions together"})]},get children(){return[e(D,{class:"text-xl",children:"Your Sessions"}),e(N,{get children(){return[S(()=>r().length)," ",S(()=>r().length===1?"session":"sessions")," available"]}})]}})}}),e(m,{get when(){return r().length>0},get fallback(){return[e(p,{class:"space-y-4",get children(){return e(k,{id:"connection-name-field",get value(){return c()},onChange:t=>d(t),get children(){return[e(G,{for:"connection-name",class:"text-sm font-medium",children:"Session name"}),e(I,{type:"text",id:"connection-name",placeholder:"e.g., Friday Lunch",class:"h-10"})]}})}}),e(V,{get children(){return e(i,{onClick:f,class:"w-full","data-testid":"start-fresh",get children(){return[e(F,{class:"w-4 h-4"}),"Create Session"]}})}})]},get children(){return e(p,{class:"space-y-2",get children(){return e(O,{get each(){return r()},children:(t,v)=>(()=>{var o=J(),b=o.firstChild,w=b.firstChild,R=w.firstChild,j=w.nextSibling,_=j.firstChild,h=_.nextSibling,$=h.firstChild;$.nextSibling;var y=b.nextSibling;return n(R,()=>t.settings.connection.name.charAt(0).toUpperCase()),n(_,()=>t.settings.connection.name),n(h,()=>t.settings.eateries.filter(z=>!z._deleted).length,$),n(h,()=>new Date(t.settings.connection.updatedAt).toLocaleDateString(),null),n(y,e(U,{to:"/wheel/$connectionId",get params(){return{connectionId:t.id}},get children(){return e(i,{size:"sm",onclick:()=>{localStorage.setItem("lastUsedConnectionId",t.id)},children:"Open"})}}),null),n(y,e(i,{size:"icon",variant:"ghost",onClick:()=>A(t.id),class:"text-muted-foreground hover:text-destructive",get children(){return e(W,{class:"w-4 h-4"})}}),null),o})()})}})}})]}}),C),n(g,e(m,{get when(){return r().length>0},get children(){return e(L,{class:"border border-dashed page-section",get children(){return e(p,{class:"pt-4",get children(){var t=Y(),v=t.firstChild;return n(v,e(k,{get value(){return c()},onChange:o=>d(o),get children(){return e(I,{type:"text",id:"new-connection-name",placeholder:"New session name",class:"h-10"})}})),n(t,e(i,{onClick:f,"data-testid":"start-fresh",get children(){return[e(F,{class:"w-4 h-4"}),"Create"]}}),null),t}})}})}}),C),s})()}export{ne as component};
