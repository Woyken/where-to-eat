import{d as m,b as H,a as O,t as f,i as n,c as e,S as u,j as k,F as U,L as W,B as o,l as p}from"./index-Cbjh6d54.js";import{T as I,a as G,b as F,p as D}from"./text-field-BQiIg3_v.js";import{t as P}from"./trash-2-CwLKJx8E.js";import{C as V,a as N,b as L,c as x,e as Y,d as T}from"./card-8jGpwUg7.js";var q=f('<div class="flex flex-col sm:flex-row gap-3"><div class=flex-1>'),J=f('<div class="min-h-[calc(100vh-theme(spacing.28))] py-12 px-4"><div class="max-w-3xl mx-auto space-y-8"><div class="text-center space-y-4 page-section"><h1 class="text-4xl md:text-5xl font-bold text-foreground leading-tight">Decide Where to Eat</h1><p class="text-lg text-muted-foreground max-w-xl mx-auto">Spin the wheel with your team. Add restaurants, set preferences, and let the wheel pick for you.</p></div><div class=space-y-4><div class="grid sm:grid-cols-3 gap-3 pt-4 page-section"><div class="p-4 rounded-lg bg-muted/50 border border-border"><h3 class="font-medium text-sm mb-1">Weighted Random</h3><p class="text-xs text-muted-foreground">Selection based on group preferences</p></div><div class="p-4 rounded-lg bg-muted/50 border border-border"><h3 class="font-medium text-sm mb-1">Real-time Sync</h3><p class="text-xs text-muted-foreground">Collaborate with your team instantly</p></div><div class="p-4 rounded-lg bg-muted/50 border border-border"><h3 class="font-medium text-sm mb-1">Veto Option</h3><p class="text-xs text-muted-foreground">Block restaurants you want to avoid'),K=f('<div class="food-list-item flex items-center justify-between"><div class="flex items-center gap-3 min-w-0"><div class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0"><span class="text-primary font-semibold text-sm"></span></div><div class=min-w-0><h3 class="font-medium truncate"></h3><p class="text-xs text-muted-foreground flex items-center gap-1"> restaurants<span class=mx-1>Â·</span></p></div></div><div class="flex gap-1 flex-shrink-0">');function re(){const[M,Q]=m(""),[c,d]=m(""),[X,Z]=m(!1),a=H(),C=()=>{try{const s=c().trim(),l=a.addNewConnection(s||`Connection ${a.store.connections.length+1}`);p.log("Created connection",l),d(""),j.navigate({to:"/wheel/$connectionId",params:{connectionId:l}}),p.log("Navigating to wheel")}catch(s){p.error("Error creating connection",s)}},j=O(),A=s=>{a.removeConnection(s)},r=()=>a.store.connections;return(()=>{var s=J(),l=s.firstChild,B=l.firstChild,g=B.nextSibling,v=g.firstChild;return n(g,e(T,{class:"food-card page-section",get children(){return[e(V,{class:"pb-3",get children(){return e(u,{get when(){return r().length>0},get fallback(){return[e(N,{class:"text-xl",children:"Get Started"}),e(L,{children:"Create a new session to start making decisions together"})]},get children(){return[e(N,{class:"text-xl",children:"Your Sessions"}),e(L,{get children(){return[k(()=>r().length)," ",k(()=>r().length===1?"session":"sessions")," available"]}})]}})}}),e(u,{get when(){return r().length>0},get fallback(){return[e(x,{class:"space-y-4",get children(){return e(I,{id:"connection-name-field",get value(){return c()},onChange:t=>d(t),get children(){return[e(G,{for:"connection-name",class:"text-sm font-medium",children:"Session name"}),e(F,{type:"text",id:"connection-name",placeholder:"e.g., Friday Lunch",class:"h-10"})]}})}}),e(Y,{get children(){return e(o,{onClick:C,class:"w-full","data-testid":"start-fresh",get children(){return[e(D,{class:"w-4 h-4"}),"Create Session"]}})}})]},get children(){return e(x,{class:"space-y-2",get children(){return e(U,{get each(){return r()},children:(t,b)=>(()=>{var i=K(),w=i.firstChild,_=w.firstChild,R=_.firstChild,z=_.nextSibling,$=z.firstChild,h=$.nextSibling,S=h.firstChild;S.nextSibling;var y=w.nextSibling;return n(R,()=>t.settings.connection.name.charAt(0).toUpperCase()),n($,()=>t.settings.connection.name),n(h,()=>t.settings.eateries.filter(E=>!E._deleted).length,S),n(h,()=>new Date(t.settings.connection.updatedAt).toLocaleDateString(),null),n(y,e(W,{to:"/wheel/$connectionId",get params(){return{connectionId:t.id}},get children(){return e(o,{size:"sm",onclick:()=>{localStorage.setItem("lastUsedConnectionId",t.id)},children:"Open"})}}),null),n(y,e(o,{size:"icon",variant:"ghost",onClick:()=>A(t.id),class:"text-muted-foreground hover:text-destructive",get children(){return e(P,{class:"w-4 h-4"})}}),null),i})()})}})}})]}}),v),n(g,e(u,{get when(){return r().length>0},get children(){return e(T,{class:"border border-dashed page-section",get children(){return e(x,{class:"pt-4",get children(){var t=q(),b=t.firstChild;return n(b,e(I,{get value(){return c()},onChange:i=>d(i),get children(){return e(F,{type:"text",id:"new-connection-name",placeholder:"New session name",class:"h-10"})}})),n(t,e(o,{onClick:C,"data-testid":"start-fresh",get children(){return[e(D,{class:"w-4 h-4"}),"Create"]}}),null),t}})}})}}),v),s})()}export{re as component};
