import{c as u,b as j,a as z,t as h,i as r,e,C as I,j as p,f as m,k as N,g as x,F as A,L as B,B as C,l as F,h as k}from"./index-DrMF0ifk.js";import{t as H,T as D,a as T,b as E,p as M}from"./text-field-e4q1Uo3A.js";var Q=h('<div class="flex flex-col sm:flex-row gap-3"><div class="space-y-2 flex-1">'),G=h('<div class="py-8 sm:py-12"><div class="mx-auto max-w-3xl space-y-8"><div class="text-center space-y-3 animate-paper-rise"><div class="inline-flex items-center gap-2 rounded-full border border-border bg-card/60 px-4 py-1.5 text-xs font-semibold text-foreground/80 shadow-[0_1px_0_rgba(0,0,0,0.04)]"><span aria-hidden=true>✳︎</span>collaborative roulette for restaurants</div><h1 class="text-5xl sm:text-6xl font-bold tracking-tight">Eatery Wheel</h1><p class="text-muted-foreground max-w-xl mx-auto">Spin with friends, sync instantly, and stop debating where to eat.</p></div><div class=space-y-6>'),P=h('<div class="rounded-2xl border border-border bg-card/40 p-4 paper-soft">'),U=h('<div class="group flex items-center justify-between gap-3 rounded-2xl border border-border bg-card/40 p-4 shadow-[0_1px_0_rgba(0,0,0,0.04)] transition hover:-translate-y-0.5 hover:bg-card/60"><div><h3 class="font-display text-lg font-semibold tracking-tight"></h3><p class="text-sm text-muted-foreground">Created </p></div><div class="flex gap-2">');function J(){const[l,f]=u(""),[a,c]=u(""),[w,b]=u(!1),i=j(),v=()=>{console.log("createFreshConnection called");try{const t=a().trim(),d=i.addNewConnection(t||`Connection ${i.store.connections.length+1}`);console.log("Created connection",d),c(""),W.navigate({to:"/wheel/$connectionId",params:{connectionId:d}}),console.log("Navigating to wheel")}catch(t){console.error("Error creating connection",t)}},W=z(),O=t=>{i.removeConnection(t)},s=()=>i.store.connections;return(()=>{var t=G(),d=t.firstChild,R=d.firstChild,_=R.nextSibling;return r(_,e(k,{get children(){return[e(I,{get children(){return e(p,{get when(){return s().length>0},get fallback(){return[e(m,{children:"Welcome!"}),e(N,{children:"Get started by creating a new wheel or connecting to an existing one"})]},get children(){return[e(m,{children:"Your Connections"}),e(N,{children:"Select a connection to continue or create a new one"})]}})}}),e(p,{get when(){return s().length>0},get fallback(){return[e(x,{class:"space-y-4",get children(){var n=P();return r(n,e(D,{id:"connection-name-field",get value(){return a()},onChange:o=>c(o),get children(){return[e(T,{for:"connection-name",children:"Connection Name (Optional)"}),e(E,{type:"text",id:"connection-name",placeholder:"My Eatery Wheel"})]}})),n}}),e(F,{class:"gap-2",get children(){return e(L,{get connectId(){return l()},get connectionName(){return a()},createFreshConnection:v,setConnectId:f,setConnectionName:c,setShowConnectDialog:b,setShowQRScanner:()=>{},get showConnectDialog(){return w()}})}})]},get children(){return e(x,{class:"space-y-3",get children(){return e(A,{get each(){return s()},children:n=>(()=>{var o=U(),g=o.firstChild,y=g.firstChild,$=y.nextSibling;$.firstChild;var S=g.nextSibling;return r(y,()=>n.settings.connection.name),r($,()=>new Date(n.settings.connection.updatedAt).toLocaleDateString(),null),r(S,e(B,{to:"/wheel/$connectionId",get params(){return{connectionId:n.id}},get children(){return e(C,{size:"sm",onclick:()=>{localStorage.setItem("lastUsedConnectionId",n.id)},children:"Open"})}}),null),r(S,e(C,{size:"sm",variant:"outline",onClick:()=>O(n.id),class:"!px-3",get children(){return e(H,{class:"w-4 h-4"})}}),null),o})()})}})}})]}}),null),r(_,e(p,{get when(){return s().length>0},get children(){return e(k,{get children(){return[e(I,{get children(){return e(m,{children:"Create new connection"})}}),e(x,{get children(){var n=Q(),o=n.firstChild;return r(o,e(D,{get value(){return a()},onChange:g=>c(g),get children(){return[e(T,{for:"new-connection-name",children:"New Connection Name"}),e(E,{type:"text",id:"new-connection-name",placeholder:"My New Wheel"})]}})),n}}),e(F,{class:"gap-2",get children(){return e(L,{get connectId(){return l()},get connectionName(){return a()},createFreshConnection:v,setConnectId:f,setConnectionName:c,setShowConnectDialog:b,setShowQRScanner:()=>{},get showConnectDialog(){return w()}})}})]}})}}),null),t})()}function L(l){return e(C,{get onClick(){return l.createFreshConnection},class:"flex-1","data-testid":"start-fresh",get children(){return[e(M,{class:"w-4 h-4 mr-2"}),"Start Fresh"]}})}export{J as component};
