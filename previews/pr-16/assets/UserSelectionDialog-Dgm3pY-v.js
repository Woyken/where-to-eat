import{d as w,c as e,z as _,A as C,C as D,Q as N,E as S,t as s,i as n,S as v,F as k,h as A,H as E,B as f,D as U,N as F}from"./index-Dc0gkwy8.js";import{p as x,T,a as B,b as I}from"./text-field-6RMlhbQz.js";var H=s('<p class="text-sm text-muted-foreground">Select your name:'),K=s('<div class="space-y-2 max-h-60 overflow-y-auto">'),O=s("<div class=space-y-2><div class=pt-2>"),j=s('<div class="space-y-4 pt-2">'),z=s('<div class=space-y-4><div class="flex gap-2">'),J=s('<div class="text-center py-6 text-muted-foreground border border-dashed border-border rounded-md"><p class=text-sm>No participants yet</p><p class="text-xs mt-1">Add yourself to get started'),L=s('<button type=button class="w-full flex items-center gap-3 p-3 rounded-md border border-border hover:bg-muted/50 hover:border-primary/50 transition-colors text-left"><div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold"></div><div class="flex-1 min-w-0"><p class="font-medium truncate">');function R(a){const[y,c]=w(!1),[u,m]=w(""),h=()=>a.users.filter(t=>!t._deleted),p=()=>{const t=u().trim();if(!t)return;const r=a.onAddNew(t);m(""),c(!1),a.onSelect(r)};return e(U,{get open(){return a.open},onOpenChange:()=>{},get children(){return e(_,{class:"sm:max-w-md",hideCloseButton:!0,onPointerDownOutside:t=>t.preventDefault(),onEscapeKeyDown:t=>t.preventDefault(),get children(){return[e(C,{get children(){return[e(D,{class:"flex items-center gap-2",get children(){return[e(N,{class:"w-5 h-5 text-primary"}),"Who are you?"]}}),e(S,{get children(){return a.connectionName?`Select your identity for "${a.connectionName}"`:"Select your identity for this session"}})]}}),(()=>{var t=j();return n(t,e(v,{get when(){return!y()},get fallback(){return(()=>{var r=z(),i=r.firstChild;return n(r,e(T,{get value(){return u()},onChange:l=>m(l),get children(){return[e(B,{for:"new-user-name",class:"text-sm font-medium",children:"Your Name"}),e(I,{type:"text",id:"new-user-name",placeholder:"Enter your name",class:"h-10","data-testid":"new-user-name-input",autofocus:!0,onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),p())}})]}}),i),n(i,e(f,{variant:"outline",class:"flex-1",onClick:()=>{c(!1),m("")},children:"Cancel"}),null),n(i,e(f,{class:"flex-1",onClick:p,get disabled(){return!u().trim()},"data-testid":"confirm-new-user",get children(){return[e(x,{class:"w-4 h-4"}),"Join"]}}),null),r})()},get children(){var r=O(),i=r.firstChild;return n(r,e(v,{get when(){return h().length>0},get fallback(){return J()},get children(){return[H(),(()=>{var l=K();return n(l,e(k,{get each(){return h()},children:o=>(()=>{var d=L(),g=d.firstChild,b=g.nextSibling,$=b.firstChild;return d.$$click=()=>a.onSelect(o.id),n(g,()=>o.name.charAt(0).toUpperCase()),n($,()=>o.name),A(()=>E(d,"data-testid",`select-user-${o.id}`)),d})()})),l})()]}}),i),n(i,e(f,{variant:"outline",class:"w-full",onClick:()=>c(!0),"data-testid":"add-new-user-button",get children(){return[e(x,{class:"w-4 h-4"}),"I'm someone new"]}})),r}})),t})()]}})}})}F(["click"]);export{R as U};
