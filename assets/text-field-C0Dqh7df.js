import{T as w,U as q,V as g,d as I,e as W,W as o,X as P,Y as A,Z as B,g as x,f as h,c as l,m as u,_ as C,s as v,$ as X,j as Y,a0 as O,a1 as V,S as Z,a2 as J,a3 as $,a4 as Q,I as ee,q as R,r as te}from"./index-Db2qS4Ez.js";var re=["id","name","validationState","required","disabled","readOnly"];function ae(e){const r=`form-control-${q()}`,t=g({id:r},e),[n,a]=I(),[s,c]=I(),[i,d]=I(),[f,b]=I(),T=(y,U,_)=>{const G=_!=null||n()!=null;return[_,n(),G&&U!=null?y:void 0].filter(Boolean).join(" ")||void 0},E=y=>[i(),f(),y].filter(Boolean).join(" ")||void 0,p=W(()=>({"data-valid":o(t.validationState)==="valid"?"":void 0,"data-invalid":o(t.validationState)==="invalid"?"":void 0,"data-required":o(t.required)?"":void 0,"data-disabled":o(t.disabled)?"":void 0,"data-readonly":o(t.readOnly)?"":void 0}));return{formControlContext:{name:()=>o(t.name)??o(t.id),dataset:p,validationState:()=>o(t.validationState),isRequired:()=>o(t.required),isDisabled:()=>o(t.disabled),isReadOnly:()=>o(t.readOnly),labelId:n,fieldId:s,descriptionId:i,errorMessageId:f,getAriaLabelledBy:T,getAriaDescribedBy:E,generateId:A(()=>o(t.id)),registerLabel:P(a),registerField:P(c),registerDescription:P(d),registerErrorMessage:P(b)}}}var N=w();function F(){const e=B(N);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function k(e){const r=F(),t=g({id:r.generateId("description")},e);return x(()=>h(r.registerDescription(t.id))),l(C,u({as:"div"},()=>r.dataset(),t))}var oe=["id","aria-label","aria-labelledby","aria-describedby"];function ne(e){const r=F(),t=g({id:r.generateId("field")},e);return x(()=>h(r.registerField(o(t.id)))),{fieldProps:{id:()=>o(t.id),ariaLabel:()=>o(t["aria-label"]),ariaLabelledBy:()=>r.getAriaLabelledBy(o(t.id),o(t["aria-label"]),o(t["aria-labelledby"])),ariaDescribedBy:()=>r.getAriaDescribedBy(o(t["aria-describedby"]))}}}function L(e){let r;const t=F(),n=g({id:t.generateId("label")},e),[a,s]=v(n,["ref"]),c=X(()=>r,()=>"label");return x(()=>h(t.registerLabel(s.id))),l(C,u({as:"label",ref(i){var d=O(f=>r=f,a.ref);typeof d=="function"&&d(i)},get for(){return Y(()=>c()==="label")()?t.fieldId():void 0}},()=>t.dataset(),s))}function ie(e,r){x(V(e,t=>{if(t==null)return;const n=se(t);n!=null&&(n.addEventListener("reset",r,{passive:!0}),h(()=>{n.removeEventListener("reset",r)}))}))}function se(e){return le(e)?e.form:e.closest("form")}function le(e){return e.matches("textarea, input, select, button")}function j(e){const r=F(),t=g({id:r.generateId("error-message")},e),[n,a]=v(t,["forceMount"]),s=()=>r.validationState()==="invalid";return x(()=>{s()&&h(r.registerErrorMessage(a.id))}),l(Z,{get when(){return n.forceMount||s()},get children(){return l(C,u({as:"div"},()=>r.dataset(),a))}})}var de={};Q(de,{Description:()=>k,ErrorMessage:()=>j,Input:()=>M,Label:()=>L,Root:()=>S,TextArea:()=>z,TextField:()=>ce,useTextFieldContext:()=>D});var H=w();function D(){const e=B(H);if(e===void 0)throw new Error("[kobalte]: `useTextFieldContext` must be used within a `TextField` component");return e}function M(e){return l(K,u({type:"text"},e))}function K(e){const r=F(),t=D(),n=g({id:t.generateId("input")},e),[a,s,c]=v(n,["onInput"],oe),{fieldProps:i}=ne(s);return l(C,u({as:"input",get id(){return i.id()},get name(){return r.name()},get value(){return t.value()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readonly(){return r.isReadOnly()},get"aria-label"(){return i.ariaLabel()},get"aria-labelledby"(){return i.ariaLabelledBy()},get"aria-describedby"(){return i.ariaDescribedBy()},get"aria-invalid"(){return r.validationState()==="invalid"||void 0},get"aria-required"(){return r.isRequired()||void 0},get"aria-disabled"(){return r.isDisabled()||void 0},get"aria-readonly"(){return r.isReadOnly()||void 0},get onInput(){return $([a.onInput,t.onInput])}},()=>r.dataset(),c))}function S(e){let r;const t=`textfield-${q()}`,n=g({id:t},e),[a,s,c]=v(n,["ref","value","defaultValue","onChange"],re),i=a.value,[d,f]=J({value:()=>i===void 0?void 0:a.value??"",defaultValue:()=>a.defaultValue,onChange:p=>a.onChange?.(p)}),{formControlContext:b}=ae(s);ie(()=>r,()=>f(a.defaultValue??""));const T=p=>{if(b.isReadOnly()||b.isDisabled())return;const m=p.target;f(m.value),m.value=d()??""},E={value:d,generateId:A(()=>o(s.id)),onInput:T};return l(N.Provider,{value:b,get children(){return l(H.Provider,{value:E,get children(){return l(C,u({as:"div",ref(p){var m=O(y=>r=y,a.ref);typeof m=="function"&&m(p)},role:"group",get id(){return o(s.id)}},()=>b.dataset(),c))}})}})}function z(e){let r;const t=D(),n=g({id:t.generateId("textarea")},e),[a,s]=v(n,["ref","autoResize","submitOnEnter","onKeyPress"]);x(V([()=>r,()=>a.autoResize,()=>t.value()],([i,d])=>{!i||!d||ue(i)}));const c=i=>{r&&a.submitOnEnter&&i.key==="Enter"&&!i.shiftKey&&r.form&&(r.form.requestSubmit(),i.preventDefault())};return l(K,u({as:"textarea",get"aria-multiline"(){return a.submitOnEnter?"false":void 0},get onKeyPress(){return $([a.onKeyPress,c])},ref(i){var d=O(f=>r=f,a.ref);typeof d=="function"&&d(i)}},s))}function ue(e){const r=e.style.alignSelf,t=e.style.overflow;"MozAppearance"in e.style||(e.style.overflow="hidden"),e.style.alignSelf="start",e.style.height="auto",e.style.height=`${e.scrollHeight+(e.offsetHeight-e.clientHeight)}px`,e.style.overflow=t,e.style.alignSelf=r}var ce=Object.assign(S,{Description:k,ErrorMessage:j,Input:M,Label:L,TextArea:z}),fe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ge=e=>l(ee,u(e,{iconNode:fe,name:"plus"})),be=ge;const me=e=>{const[r,t]=v(e,["class"]);return l(S,u({get class(){return R("flex flex-col gap-1",r.class)}},t))},xe=e=>{const r=u({type:"text"},e),[t,n]=v(r,["type","class"]);return l(M,u({get type(){return t.type},get class(){return R("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[invalid]:border-error-foreground data-[invalid]:text-error-foreground",t.class)}},n))},ve=te("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{label:"data-[invalid]:text-destructive",description:"font-normal text-muted-foreground",error:"text-xs text-destructive"}},defaultVariants:{variant:"label"}}),ye=e=>{const[r,t]=v(e,["class"]);return l(L,u({get class(){return R(ve(),r.class)}},t))};export{me as T,ye as a,xe as b,be as p};
